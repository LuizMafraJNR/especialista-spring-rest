spring.datasource.url=jdbc:mysql://localhost:3306/algafood?createDatabaseIfNotExist=true&serverTimezone=UTC
spring.datasource.username=root
spring.datasource.password=Rootkali123
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

#[Vamos usar Flyway para criar as tabelas]
#N�o � muito interessante para usar em produ��o.
#configurando o hibernate para criar as tabelas no banco de dados
spring.jpa.generate-ddl=true
#Update adiciona campos que n�o existem e n�o altera os que ja existe por mais que troque o nome.
spring.jpa.hibernate.ddl-auto=update
spring.flyway.enabled=true


#Criar DDL a partir do objeto relacional
#spring.jpa.properties.javax.persistence.schme-generation.scripts.action=create
#spring.jpa.properties.javax.persistence.schme-generation.scripts.create-target=src/main/resources/ddl.sql

spring.datasource.initialization-mode=always
spring.jpa.show-sql=true


#FLYWAY
spring.flyway.locations=classpath:db/migration, classpath:db/testedata
# Disable Flyway validation of checksums on migrate
spring.flyway.validate-on-migrate=false
# Clean schema on validation error for fresh environments
spring.flyway.clean-on-validation-error=true
spring.flyway.repair-on-migrate=true

#configurando hikari - Pool de conex�es max 5, min 3 e timeout de idle de 1 minuto para fechar excedentes
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=3
spring.datasource.hikari.idle-timeout=60000

#Habilitando erros na desserializac?a?o de propriedades inexistentes ou ignoradas
spring.jackson.deserialization.fail-on-unknown-properties=true
spring.jackson.deserialization..fail-on-ignored-properties=true

# Habilitando para quando a URI n�o existir
spring.mvc.throw-exception-if-no-handler-found=true
spring.resources.add-mappings=false